(function(){var b={e:{},state:{},Aa:!1,execute:function(a,c){if(a){var d=Array.prototype.slice.call(arguments,1);try{return a.apply(null,d)}catch(e){return e}}},now:function(){return+new Date},key:function(a){var c=(b.state.get("uid")||b.state.get("counter")||0)+1;return a["spf-key"]||(a["spf-key"]=b.state.set("uid",c))}};
b.e.U={"cache-lifetime":6E5,"cache-max":50,"link-class":"spf-link","nolink-class":"spf-nolink","navigate-limit":20,"navigate-requested-callback":null,"navigate-received-callback":null,"navigate-processed-callback":null,"navigate-error-callback":null,"request-timeout":0,"transition-class":"spf-transition","transition-duration":425,"url-identifier":"?spf=__type__"};b.e.w=function(a){var c=b.e.C();return a in c};b.e.get=function(a){return b.e.C()[a]};b.e.set=function(a,c){return b.e.C()[a]=c};
b.e.clear=function(){b.e.C({})};b.e.C=function(a){return a||!b.state.w("config")?b.state.set("config",a||{}):b.state.get("config")};b.state.w=function(a){return a in b.state.F};b.state.get=function(a){return b.state.F[a]};b.state.set=function(a,c){return b.state.F[a]=c};b.state.F=window._spf_state||{};window._spf_state=b.state.F;b.history={};b.history.s=function(a){if(!b.state.get("history-init")&&window.addEventListener){var c=window.location.href;window.addEventListener("popstate",b.history.Y,!1);b.state.set("history-init",!0);b.state.set("history-callback",a);b.state.set("history-listener",b.history.Y);b.state.set("history-url",c);b.state.set("history-timestamp",b.now());b.history.replace(c)}};
b.history.t=function(){b.state.get("history-init")&&(window.removeEventListener&&window.removeEventListener("popstate",b.state.get("history-listener"),!1),b.state.set("history-init",!1),b.state.set("history-callback",null),b.state.set("history-listener",null),b.state.set("history-url",null),b.state.set("history-timestamp",0))};b.history.add=function(a,c,d){b.history.Z(!1,a,c,d)};b.history.replace=function(a,c,d){b.history.Z(!0,a,c,d)};
b.history.Z=function(a,c,d,e){if(c||d){c=c||window.location.href;d=d||{};var f=b.now();b.state.set("history-timestamp",f);d["spf-timestamp"]=f;a?window.history.replaceState(d,"",c):window.history.pushState(d,"",c);b.state.set("history-url",c);e&&(a=b.state.get("history-callback"))&&a(c,d)}};
b.history.Y=function(a){var c=window.location.href;if(a.state){a=a.state;var d=a["spf-timestamp"];if(c==b.state.get("history-url"))b.state.set("history-timestamp",d),window.history.replaceState(a,"",c);else{var e=b.state.get("history-timestamp");a["spf-back"]=d<e;b.state.set("history-timestamp",d);b.state.set("history-url",c);(d=b.state.get("history-callback"))&&d(c,a)}}};b.f={};b.f.get=function(a){var c=b.f.u();if(a in c){c=c[a];if(b.f.W(c))return c.data;b.f.remove(a)}};b.f.set=function(a,c,d){d=parseInt(d,10);var e=parseInt(b.e.get("cache-max"),10);0>=d||0>=e||(b.f.u()[a]=b.f.za(c,d),setTimeout(b.f.ya,1E3))};b.f.remove=function(a){var c=b.f.u();a in c&&delete c[a]};b.f.clear=function(){b.f.u({})};b.f.ya=function(){var a=b.f.u(),c;for(c in a)b.f.W(a[c])||delete a[c]};
b.f.W=function(a){if(!(a&&"data"in a))return!1;var c=a.life,c=isNaN(c)?Infinity:c,d=b.now()-a.time,e=b.e.get("cache-max"),e=isNaN(e)?Infinity:e;a=(b.state.get("cache-counter")||0)-(a.count||0);return d<c&&a<e};b.f.za=function(a,c){var d=(b.state.get("cache-counter")||0)+1;b.state.set("cache-counter",d);return{data:a,life:c,time:b.now(),count:d}};b.f.u=function(a){return a||!b.state.w("cache-storage")?b.state.set("cache-storage",a||{}):b.state.get("cache-storage")};b.c={};b.c.j={};b.c.j.get=function(a){return a.classList?a.classList:a.className&&a.className.match(/\S+/g)||[]};b.c.j.contains=function(a,c){if(a.classList)return a.classList.contains(c);for(var d=b.c.j.get(a),e=0,f=d.length;e<f;e++)if(d[e]==c)return!0;return!1};b.c.j.add=function(a,c){a.classList?a.classList.add(c):b.c.j.contains(a,c)||(a.className+=" "+c)};
b.c.j.remove=function(a,c){if(a.classList)a.classList.remove(c);else{for(var d=b.c.j.get(a),e=[],f=0,g=d.length;f<g;f++)d[f]!=c&&e.push(d[f]);a.className=e.join(" ")}};b.c.na=function(a){if(document.querySelectorAll)return document.querySelectorAll(a);if(b.c.S){var c=document.createElement("style"),d=document.getElementsByTagName("head")[0];d.appendChild(c);window.__qsa=[];c.styleSheet.cssText=a+"{x:expression(__qsa.push(this))}";document.body.style.cssText+="";document.body.style.zoom=1;d.removeChild(c);return window.__qsa.slice(0)}return[]};b.c.ea=function(a,c){c.parentNode.insertBefore(a,c)};b.c.da=function(a,c){c.parentNode.insertBefore(a,c.nextSibling)};
b.c.ba=function(a){var c,d=a.parentNode;if(d&&11!=d.nodeType)if(a.removeNode)a.removeNode(!1);else{for(;c=a.firstChild;)d.insertBefore(c,a);d.removeChild(a)}};b.c.ca=function(a,c){if(c){for(var d;d=a.firstChild;)c.appendChild(d);a.appendChild(c)}};b.c.I=function(a,c,d){for(;a;){if(c(a))return a;if(d&&a==d)break;a=a.parentNode}return null};b.c.ha=function(a,c){for(var d in c){var e=c[d];"class"==d?a.className=e:"style"==d?a.style.cssText=e:a.setAttribute(d,e)}};
b.c.pa=function(a){a=a||"";var c=document,d=c.createElement("iframe");d.id=a;d.src='javascript:""';d.style.display="none";c.body.appendChild(d);return d};b.c.S="Microsoft Internet Explorer"==navigator.appName;b.c.url={};b.c.url.absolute=function(a){var c=document.createElement("a");c.href=a;return c.href};b.c.dataset={};b.c.dataset.get=function(a,c){return a.dataset?a.dataset[c]:a.getAttribute("data-"+b.i.X(c))};b.c.dataset.set=function(a,c,d){a.dataset?a.dataset[c]=d:a.setAttribute("data-"+b.i.X(c),d)};b.h={};b.h.oa=function(a,c){if(a&&c){var d=b.h.v();a in d||(d[a]=[]);d[a].push(c)}};b.h.Da=function(a,c){var d=b.h.v();if(a in d&&c)for(var e=0,f=d[a].length;e<f;e++)if(d[a][e]==c){d[a][e]=null;break}};b.h.ma=function(a,c){var d=b.h.v();if(a in d)for(var e=Array.prototype.slice.call(arguments,1),f=0,g=d[a].length;f<g;f++)d[a][f]&&d[a][f].apply(null,e)};b.h.clear=function(a){var c=b.h.v();a?a in c&&delete c[a]:b.h.v({})};
b.h.v=function(a){return a||!b.state.w("pubsub-subs")?b.state.set("pubsub-subs",a||{}):b.state.get("pubsub-subs")};b.i={};b.i.contains=function(a,c){return-1!=a.indexOf(c)};b.i.la=function(a){return 0==a.lastIndexOf("?",0)};b.i.Ba=function(a,c){var d=a.length-c.length;return 0<=d&&a.indexOf(c,d)==d};b.i.B=function(a){for(var c=0,d=0,e=a.length;d<e;++d)c=31*c+a.charCodeAt(d),c%=4294967296;return c};b.i.X=function(a){return String(a).replace(/([A-Z])/g,"-$1").toLowerCase()};b.a={};b.a.g={};b.a.g.load=function(a,c,d,e){if("js"!=a&&"css"!=a)return null;var f=a+"-"+b.i.B(c);e=e||"";var g=document.getElementById(f),h=g&&b.c.dataset.get(g,"loaded"),l=g&&!h;if(h)return d&&d(),g;d&&b.h.oa(f,d);if(l)return g;var k=e?b.c.na(("js"==a?"script":"link")+"."+e):[];return g=b.a.g.Q(a,c,f,e,function(){b.c.dataset.get(g,"loaded")||(b.c.dataset.set(g,"loaded","true"),b.a.g.R(k),b.h.ma(f),b.h.clear(f))})};
b.a.g.Q=function(a,c,d,e,f,g){if("js"!=a&&"css"!=a)return null;var h=document.createElement("js"==a?"script":"link");h.id=d;h.className=e;"css"==a&&(h.rel="stylesheet");h.onload=function(){f&&setTimeout(f,0)};h.onreadystatechange=function(){switch(h.readyState){case "loaded":case "complete":h.onload()}};"js"==a?h.src=c:h.href=c;c=g||document;c=c.getElementsByTagName("head")[0]||c.body;"js"==a?c.insertBefore(h,c.firstChild):c.appendChild(h);return h};
b.a.g.q=function(a,c){if("js"==a||"css"==a){var d=document.getElementById(a+"-"+b.i.B(c));d&&b.a.g.R([d])}};b.a.g.R=function(a){for(var c=0,d=a.length;c<d;c++)b.h.clear(a[c].id),a[c].parentNode.removeChild(a[c])};b.a.g.p=function(a,c){"js"!=a&&"css"!=a||b.h.clear(a+"-"+b.i.B(c))};
b.a.g.k=function(a,c){if("js"==a||"css"==a){var d=a+"-"+b.i.B(c),e=document.getElementById(d);if(!e){var e=a+"-prefetch",f=document.getElementById(e);if(f){if(e=f.contentWindow.document.getElementById(d))return}else f=b.c.pa(e);setTimeout(function(){var e=f.contentWindow.document;if("js"==a){var h=e.createElement("object");h.id=d;b.c.S?e.createElement("script").src=c:h.data=c;e.body.appendChild(h)}else b.a.g.Q(a,c,d,"",null,e)},0)}}};b.a.scripts={};b.a.scripts.eval=function(a,c){if(window.execScript)window.execScript(a,"JavaScript");else{var d=document.createElement("script");d.appendChild(document.createTextNode(a));var e=document.getElementsByTagName("head")[0]||document.body;e.insertBefore(d,e.firstChild)}c&&c()};b.a.scripts.load=function(a,c,d){return b.a.g.load("js",a,c,d)};b.a.scripts.q=function(a){b.a.g.q("js",a)};b.a.scripts.p=function(a){b.a.g.p("js",a)};b.a.scripts.k=function(a){b.a.g.k("js",a)};
b.a.scripts.execute=function(a,c){if(0>=a.scripts.length)c&&c();else{var d=-1,e=function(){d++;if(d<a.scripts.length){var f=a.scripts[d];f.url?b.a.scripts.load(f.url,e,f.name):f.text?b.a.scripts.eval(f.text,e):e()}else c&&c()};e()}};b.a.scripts.T=function(a){if(!(0>=a.scripts.length))for(var c=0,d=a.scripts.length;c<d;c++){var e=a.scripts[c];e.url&&b.a.scripts.k(e.url)}};
b.a.scripts.parse=function(a){var c=new r;if(!a)return c;a=a.replace(b.a.scripts.ua,function(a,e,f){a=(a=e.match(b.a.scripts.va))?a[1]:"";e=(e=e.match(b.a.scripts.G))?e[1]:"";c.scripts.push({url:a,text:f,name:e});return""});c.r=a;return c};function r(){this.r="";this.scripts=[]}b.a.scripts.ua=/\x3cscript([\s\S]*?)\x3e([\s\S]*?)\x3c\/script\x3e/ig;b.a.scripts.va=/src="([\S]+)"/;b.a.scripts.G=/class="([\S]+)"/;b.a.d={};b.a.d.eval=function(a){var c=document.createElement("style");(document.getElementsByTagName("head")[0]||document.body).appendChild(c);"styleSheet"in c?c.styleSheet.cssText=a:c.appendChild(document.createTextNode(a))};b.a.d.load=function(a,c,d){return b.a.g.load("css",a,c,d)};b.a.d.q=function(a){b.a.g.q("css",a)};b.a.d.p=function(a){b.a.g.p("css",a)};b.a.d.k=function(a){b.a.g.k("css",a)};
b.a.d.fa=function(a){if(!(0>=a.d.length))for(var c=0,d=a.d.length;c<d;c++){var e=a.d[c];e.url?b.a.d.load(e.url,null,e.name):e.text&&b.a.d.eval(e.text)}};b.a.d.ta=function(a){if(!(0>=a.d.length))for(var c=0,d=a.d.length;c<d;c++){var e=a.d[c];e.url&&b.a.d.k(e.url)}};
b.a.d.parse=function(a){var c=new s;if(!a)return c;a=a.replace(b.a.d.ra,function(a,e){if(b.i.contains(e,'rel="stylesheet"')){var f=e.match(b.a.d.qa),f=f?f[1]:"",g=e.match(b.a.d.G),g=g?g[1]:"";c.d.push({url:f,text:"",name:g});return""}return a});a=a.replace(b.a.d.sa,function(a,e,f){c.d.push({url:"",text:f,name:""});return""});c.r=a;return c};function s(){this.r="";this.d=[]}b.a.d.ra=/\x3clink([\s\S]*?)\x3e/ig;b.a.d.sa=/\x3cstyle([\s\S]*?)\x3e([\s\S]*?)\x3c\/style/ig;b.a.d.qa=/href="([\S]+)"/;
b.a.d.G=/class="([\S]+)"/;b.a.l={};b.a.l.get=function(a,c){return b.a.l.send("GET",a,null,c)};b.a.l.Ca=function(a,c,d){return b.a.l.send("POST",a,c,d)};
b.a.l.send=function(a,c,d,e){d=e||{};var f=d.ja||function(){},g=d.ia||function(){},h=d.ka||function(){},l,k=b.a.l.create();k.open(a,c,!0);k.timing={};var m=k.abort;k.abort=function(){clearTimeout(l);k.onreadystatechange=null;m.call(k)};k.onreadystatechange=function(){var a=k.timing;if(2==k.readyState)a.responseStart=a.responseStart||b.now();else if(4==k.readyState)switch(a.responseEnd=a.responseEnd||b.now(),clearTimeout(l),k.status){case 200:case 201:case 202:case 203:case 204:case 205:case 206:case 304:f(k);
break;default:g(k)}};if(d.headers)for(var p in d.headers)k.setRequestHeader(p,d.headers[p]);0<d.P&&(l=setTimeout(function(){k.abort();h(k)},d.P));k.timing.fetchStart=b.now();k.send(null);return k};var t;t="XMLHttpRequest"in window?function(){return new XMLHttpRequest}:"ActiveXObject"in window?function(){return new ActiveXObject("Microsoft.XMLHTTP")}:void 0;b.a.l.create=t;b.b={};b.b.s=function(){!b.state.get("nav-init")&&document.addEventListener&&(document.addEventListener("click",b.b.V,!1),b.state.set("nav-init",!0),b.state.set("nav-listener",b.b.V))};b.b.t=function(){b.b.cancel();b.state.get("nav-init")&&(document.removeEventListener&&document.removeEventListener("click",b.state.get("nav-listener"),!1),b.state.set("nav-init",!1),b.state.set("nav-listener",null))};
b.b.V=function(a){if(!(a.metaKey||(a.altKey||a.ctrlKey||a.shiftKey)||0<a.button)){var c=b.c.I(a.target,function(a){return b.c.j.contains(a,b.e.get("link-class"))});!c||b.e.get("nolink-class")&&b.c.I(a.target,function(a){return b.c.j.contains(a,b.e.get("nolink-class"))})||!(c=b.c.I(a.target,function(a){return a.href&&"img"!=a.tagName.toLowerCase()},c))||((c=c.href)&&c!=window.location.href&&b.b.H(c),a.preventDefault())}};b.b.wa=function(a,c){b.b.H(a,c&&c["spf-referer"],!0,!(!c||!c["spf-back"]))};
b.b.navigate=function(a){a&&a!=window.location.href&&b.b.H(a)};
b.b.H=function(a,c,d,e){var f=b.execute(b.e.get("navigate-requested-callback"),a);if(!1!==f)if(f instanceof Error)b.b.error(a,f);else if(b.state.get("nav-init")){b.b.cancel();var f=(b.state.get("navigate-counter")||0)+1,g=parseInt(b.e.get("navigate-limit"),10),g=isNaN(g)?Infinity:g;if(f>g)d=Error("Navigation limit reached"),b.b.error(a,d);else{b.state.set("navigate-counter",f);var h=c||window.location.href;c=b.b.J(a,function(a,c){b.state.set("nav-request",null);c.redirect?b.history.replace(c.redirect,
{"spf-referer":h},!0):b.b.K(c,e,!0)},function(a,c){b.state.set("nav-request",null);c instanceof Error&&b.b.error(a,c)},"navigate",h);b.state.set("nav-request",c);if(!d)try{b.history.add(a,{"spf-referer":h})}catch(l){b.b.cancel(),b.b.error(a,l)}}}else d=Error("Navigation not initialized"),b.b.error(a,d)};b.b.cancel=function(){var a=b.state.get("nav-request");a&&(a.abort(),b.state.set("nav-request",null))};
b.b.error=function(a,c){!1!==b.execute(b.e.get("navigate-error-callback"),a,c)&&(window.location.href=a)};b.b.load=function(a,c,d){return b.b.J(a,function(a,f){f.redirect?b.b.load(f.redirect,c,d):(b.b.K(f),c&&c(a,f))},function(a,c){d&&d(a,c)},"load")};
b.b.J=function(a,c,d,e,f){function g(c){n.navigationStart=p;if(c.timing)for(var e in c.timing)n[e]=c.timing[e];var f;try{f="JSON"in window?JSON.parse(c.responseText):eval("("+c.responseText+")")}catch(g){d&&d(a,g);return}b.f.set(l,f,b.e.get("cache-lifetime"));f.timing=n;h(f)}function h(f){if("navigate"==e){var g=b.execute(b.e.get("navigate-received-callback"),a,f);if(!1===g||g instanceof Error){d&&d(a,g);return}}c&&c(a,f)}var l=b.c.url.absolute(a),k=l,m=b.e.get("url-identifier")||"";m&&(m=m.replace("__type__",
e||"request"),k=b.i.la(m)&&b.i.contains(k,"?")?k+m.replace("?","&"):k+m);var p=b.now(),n={};n.fetchStart=b.now();var q=b.f.get(l);if(q)setTimeout(function(){n.responseStart=n.responseEnd=b.now();n.navigationStart=p;q.timing=n;h(q)},0);else return n={},m={"X-SPF-Request":e||"request"},f&&(m["X-SPF-Referer"]=f),b.a.l.get(k,{headers:m,P:b.e.get("request-timeout"),ja:g,ia:g,ka:g})};
b.b.K=function(a,c,d){function e(){if(0==l){var c=b.a.scripts.parse(a.js);b.a.scripts.execute(c,function(){d&&b.execute(b.e.get("navigate-processed-callback"),a)});l--}}var f=b.a.d.parse(a.css);b.a.d.fa(f);a.title&&(document.title=a.title);var g=a.attr||{},h;for(h in g)(f=document.getElementById(h))&&b.c.ha(f,g[h]);var l=0,g=a.html||{};if(Object.keys)l=Object.keys(g).length;else for(h in g)l++;for(h in g)if(f=document.getElementById(h)){var k=g[h],m=b.key(f),p=b.e.get("transition-class");if(b.b.$&&
b.c.j.contains(f,p)){b.b.A(m,!0);var n=[],f={reverse:!!c,N:b.a.scripts.parse(k),m:null,o:null,n:f,aa:p+"-old",ga:p+"-new",O:c?p+"-reverse-start":p+"-forward-start",M:c?p+"-reverse-end":p+"-forward-end"};n.push([function(a,c){b.c.j.add(a.n,a.O);a.m=document.createElement("div");a.m.className=a.aa;b.c.ca(a.n,a.m);a.o=document.createElement("div");a.o.className=a.ga;a.o.innerHTML=a.N.r;a.reverse?b.c.ea(a.o,a.m):b.c.da(a.o,a.m);c()},0]);n.push([function(a,c){b.c.j.remove(a.n,a.O);b.c.j.add(a.n,a.M);c()},
0]);n.push([function(a,c){a.n.removeChild(a.m);b.c.j.remove(a.n,a.M);b.c.ba(a.o);c()},b.e.get("transition-duration")]);n.push([function(a,c){b.a.scripts.execute(a.N,function(){l--;e();c()})},0]);b.b.L()[m]={timer:0,queue:n,data:f};b.b.A(m)}else m=b.a.scripts.parse(k),f.innerHTML=m.r,b.a.scripts.execute(m,function(){l--;e()})}else l--;e()};
b.b.A=function(a,c){var d=b.b.L();if(a in d)if(0<d[a].queue.length){var e=d[a].queue.shift();if(c)e[0](d[a].data,function(){b.b.A(a,c)});else d[a].timer=setTimeout(function(){e[0](d[a].data,function(){b.b.A(a,c)})},e[1])}else clearTimeout(d[a].timer),delete d[a]};b.b.k=function(a,c,d){return b.b.J(a,function(a,f){f.redirect?b.b.k(f.redirect,c,d):(b.b.xa(f),c&&c(a,f))},function(a,c){d&&d(a,c)},"prefetch")};
b.b.xa=function(a){var c=b.a.d.parse(a.css);b.a.d.ta(c);var c=a.html||{},d,e;for(e in c)d=b.a.scripts.parse(c[e]),b.a.scripts.T(d);d=b.a.scripts.parse(a.js);b.a.scripts.T(d)};b.b.L=function(){return b.state.w("nav-transitions")?b.state.get("nav-transitions"):b.state.set("nav-transitions",{})};var u=b.b,v;n:{for(var w=document.createElement("div"),x=["Webkit","Moz","Ms","O","Khtml"],y=0,z=x.length;y<z;y++)if(x[y]+"Transition"in w.style){v=!0;break n}v=!1}u.$=v;b.D={};b.D.s=function(a){var c=!!window.history.pushState;a=a||{};for(var d in b.e.U)b.e.set(d,d in a?a[d]:b.e.U[d]);c&&(b.history.s(b.b.wa),b.b.s());return c};b.D.t=function(){window.history.pushState&&(b.b.t(),b.history.t());b.e.clear()};var A={init:b.D.s,dispose:b.D.t,navigate:b.b.navigate,load:b.b.load,process:b.b.K,prefetch:b.b.k,scripts:{load:b.a.scripts.load,unload:b.a.scripts.q,ignore:b.a.scripts.p,prefetch:b.a.scripts.k},styles:{load:b.a.d.load,unload:b.a.d.q,ignore:b.a.d.p,prefetch:b.a.d.k}};
if(b.Aa){window.spf=b;for(var B in A)window.spf[B]=A[B]}else window.spf=A;})();